/* ===================================================================
   ü¶ä OTIMIZA√á√ïES DE PERFORMANCE PARA MOZILLA FIREFOX
   ===================================================================
   Firefox tem dificuldades com:
   - backdrop-filter (blur)
   - M√∫ltiplas anima√ß√µes simult√¢neas
   - Eventos mousemove constantes
   - Gradientes complexos em elementos animados
   =================================================================== */

/* Detectar Firefox via CSS */
@-moz-document url-prefix() {
    
    /* === SCROLL SUAVE E MODERNO === */
    html {
        scroll-behavior: smooth !important;
        scroll-padding-top: 80px;
    }
    
    body {
        overflow-x: hidden;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch; /* Scroll suave no mobile */
    }
    
    /* Scroll snap para navega√ß√£o suave */
    .motos-grid,
    .filters-section {
        scroll-snap-type: y proximity;
    }
    
    .moto-card {
        scroll-snap-align: start;
        scroll-margin-top: 100px;
    }
    
    /* === DESABILITAR BACKDROP-FILTER (MUITO PESADO NO FIREFOX) === */
    /* Apenas remove o efeito blur, mant√©m cores originais */
    .hero-header,
    .filters-section,
    .moto-card,
    .side-panel,
    *[style*="backdrop-filter"] {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }
    
    /* === SIMPLIFICAR ANIMA√á√ïES DE FUNDO === */
    body::before,
    body::after {
        animation: none !important;
        opacity: 0.5 !important;
    }
    
    .hero-header::before {
        animation-duration: 40s !important; /* Mais lento = menos carga */
    }
    
    /* === DESABILITAR ROTA√á√ÉO CONT√çNUA === */
    @keyframes rotate {
        to { transform: rotate(360deg); }
    }
    
    .hero-header::before {
        animation: none !important;
        transform: rotate(0deg) !important;
    }
    
    /* === OTIMIZAR CARDS DE MOTOS === */
    .moto-card {
        will-change: auto !important;
        transform: translateZ(0);
        transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1) !important; /* Transi√ß√£o mais suave */
    }
    
    .moto-card:hover {
        transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) !important; /* Easing com bounce suave */
    }
    
    /* === REMOVER FILTROS PESADOS === */
    .logo-image,
    img {
        filter: none !important;
        transition: all 0.3s ease-out !important;
    }
    
    .logo-image:hover {
        filter: brightness(1.1) !important;
    }
    
    /* === SIMPLIFICAR GRADIENTES === */
    .moto-card::before,
    .moto-card::after {
        display: none !important;
    }
    
    /* === OTIMIZAR FORMAS FLUTUANTES === */
    .floating-shape {
        animation-duration: 30s !important; /* Mais lento e suave */
        animation-timing-function: ease-in-out !important;
        will-change: auto !important;
    }
    
    /* === DESABILITAR SHIMMER/PULSE EM BACKGROUNDS === */
    @keyframes backgroundShimmer {
        0%, 100% { opacity: 0.5; }
        50% { opacity: 0.6; }
    }
    
    @keyframes backgroundPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.02); }
    }
    
    /* === TRANSI√á√ïES SUAVES E FLUIDAS === */
    .filter-btn,
    .filter-btn-cil,
    .header-btn,
    button {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .filter-btn:hover,
    .filter-btn-cil:hover,
    .filter-btn.active,
    .filter-btn-cil.active {
        transition: all 0.25s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
    }
    
    .moto-card img {
        transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    /* === SCROLLBAR SIMPLIFICADA === */
    ::-webkit-scrollbar {
        width: 10px;
    }
    
    ::-webkit-scrollbar-track {
        background: #1a1a1a;
    }
    
    ::-webkit-scrollbar-thumb {
        background: #ff6600;
        border-radius: 5px;
    }
    
    /* === OTIMIZAR MODAL === */
    .modal {
        backdrop-filter: none !important;
        background: rgba(0, 0, 0, 0.92) !important;
    }
    
    .modal-content {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5) !important; /* Shadow simples */
    }
    
    /* === CACHE INFO === */
    .cache-info {
        animation: none !important;
    }
}

/* === OTIMIZA√á√ÉO JAVASCRIPT DETECTION === */
/* Adiciona classe ao body se for Firefox para controle JS */
@-moz-document url-prefix() {
    body {
        --is-firefox: 1;
    }
}
